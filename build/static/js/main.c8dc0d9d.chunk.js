(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){e.exports=t(26)},20:function(e,n,t){},26:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(5),i=t.n(o),s=(t(20),t(4)),l=t(3),c=t(1),p=t(2);function u(){var e=Object(c.a)(["\n  position: relative;\n  display: inline-block;\n  width: 31px;\n  height: 16px;\n\n  input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n\n  .slider {\n    position: absolute;\n    border-radius: 17px;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: ",';\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n  }\n\n  .slider:before {\n    position: absolute;\n    content: "";\n    height: 10px;\n    width: 10px;\n    left: 3px;\n    bottom: 3px;\n    background-color: white;\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n    border-radius: 50%;\n  }\n\n  input:checked + .slider {\n    background-color: ',";\n  }\n\n  input:focus + .slider {\n    box-shadow: 0 0 1px ",";\n  }\n\n  input:checked + .slider:before {\n    -webkit-transform: translateX(15px);\n    -ms-transform: translateX(15px);\n    transform: translateX(15px);\n  }\n"]);return u=function(){return e},e}function m(){var e=Object(c.a)(["\n  color: ",";\n  padding: 8px;\n  margin: 0;\n  position: absolute;\n"]);return m=function(){return e},e}var d=p.a.h1(m(),"#FFF2FC"),b=p.a.label(u(),"#443378","#F487F2","#F487F2"),y=function(e){return r.a.createElement(b,{class:"switch"},r.a.createElement("input",Object.assign({type:"checkbox"},e)),r.a.createElement("span",{class:"slider"}))};function h(){var e=Object(c.a)(["\n  color: ",";\n  box-sizing: border-box;\n  min-height: 100vh;\n  display: flex;\n  padding: 8px;\n  > * {\n    margin: auto 8px;\n  }\n  > *:first-child {\n    margin-left: auto;\n  }\n  > *:last-child {\n    margin-right: auto;\n  }\n"]);return h=function(){return e},e}var g=p.a.div(h(),"#FFF2FC");function f(){var e=Object(c.a)(["\n  min-width: 180px;\n  box-sizing: border-box;\n  background-color: ",";\n  border: solid 4px ",";\n  border-radius: 4px;\n  font-size: 14px;\n  padding: 4px;\n  > * {\n    display: block;\n  }\n  > h3 {\n    margin: 0px 0px 8px 0px;\n  }\n  > h6 {\n    margin: 0px 0px 8px;\n  }\n  > label {\n    font-weight: bold;\n    font-style: italic;\n    color: ",";\n    margin: 16px 0px;\n  }\n"]);return f=function(){return e},e}var E=p.a.div(f(),"#684597","#714E9C","#FACCF4"),x=function(e){return r.a.createElement(E,null,r.a.createElement("h3",null,e.title),r.a.createElement("h6",null,e.id),e.setBypass&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"enabled",type:"checkbox",checked:!e.bypassed,onChange:function(n){return e.setBypass(e.id,!n.target.checked)}})),e.children)},v=function(e){return r.a.createElement(x,{bypassed:e.biquadFilterNode&&e.biquadFilterNode.bypass,title:"Filter",id:"biquadFilterNode",setBypass:e.setBypass},r.a.createElement("label",{htmlFor:"type"},"Type"),r.a.createElement("select",{name:"type",onChange:function(n){e.biquadFilterNode.instance.type=n.target.value}},r.a.createElement("option",null,"lowpass"),r.a.createElement("option",null,"highpass"),r.a.createElement("option",null,"lowshelf"),r.a.createElement("option",null,"highshelf"),r.a.createElement("option",null,"bandpass"),r.a.createElement("option",null,"allpass")),r.a.createElement("label",{htmlFor:"frequency"},"Frequency"),r.a.createElement("input",{name:"frequency",type:"range",min:"0",max:"40000",defaultValue:"350",step:"0.01",onChange:function(n){e.biquadFilterNode.instance.frequency.value=n.target.value}}),r.a.createElement("label",{htmlFor:"q"},"Q"),r.a.createElement("input",{name:"q",type:"range",min:"0",max:"20",defaultValue:"1",step:"0.01",onChange:function(n){e.biquadFilterNode.instance.Q.value=n.target.value}}))},F=function(e){return r.a.createElement(x,{bypassed:e.convolverNode&&e.convolverNode.bypass,title:"Reverb",id:"convolverNode",setBypass:e.setBypass})},N=function(e){var n=function(n){e.dynamicsCompressorNode.instance[n.target.name].value=n.target.value};return r.a.createElement(x,{bypassed:e.dynamicsCompressorNode&&e.dynamicsCompressorNode.bypass,title:"Compressor",id:"dynamicsCompressorNode",setBypass:e.setBypass},r.a.createElement("label",{htmlFor:"attack"},"Attack"),r.a.createElement("input",{name:"attack",type:"range",min:"0",max:"1",defaultValue:"0.003",step:"0.01",onChange:n}),r.a.createElement("label",{htmlFor:"knee"},"Knee"),r.a.createElement("input",{name:"knee",type:"range",min:"0",max:"40",defaultValue:"30",step:"0.01",onChange:n}),r.a.createElement("label",{htmlFor:"ratio"},"Ratio"),r.a.createElement("input",{name:"ratio",type:"range",min:"1",max:"20",defaultValue:"12",step:"0.01",onChange:n}),r.a.createElement("label",{htmlFor:"release"},"Release"),r.a.createElement("input",{name:"release",type:"range",min:"0",max:"1",defaultValue:"0.25",step:"0.01",onChange:n}),r.a.createElement("label",{htmlFor:"threshold"},"Threshold"),r.a.createElement("input",{name:"threshold",type:"range",min:"-100",max:"0",defaultValue:"-24",step:"0.01",onChange:n}))},C=function(e){return r.a.createElement(x,{bypassed:e.gainNode&&e.gainNode.bypass,title:"Gain",id:"gainNode",setBypass:e.setBypass},r.a.createElement("label",{htmlFor:"gain"},"Gain"),r.a.createElement("input",{name:"gain",type:"range",min:"0",max:"3",defaultValue:"1",step:"0.01",onChange:function(n){e.gainNode.instance.gain.value=n.target.value}}))},w=function(e){var n=Object(a.useState)({x:0,y:0,z:0}),t=Object(l.a)(n,2),o=t[0],i=t[1],c=Object(a.useState)({x:0,y:0,z:0}),p=Object(l.a)(c,2),u=p[0],m=p[1],d=function(n){var t=Object(s.a)({},o);t[n.target.name]=n.target.value,i(t),e.pannerNode.instance.setPosition(o.x,o.y,o.z)},b=function(n){var t=Object(s.a)({},u);t[n.target.name]=n.target.value,m(t),e.pannerNode.instance.setOrientation(u.x,u.y,u.z)};return r.a.createElement(x,{bypassed:e.pannerNode&&e.pannerNode.bypass,title:"Panner",id:"pannerNode",setBypass:e.setBypass},r.a.createElement("label",{htmlFor:"x"},"x-position"),r.a.createElement("input",{name:"x",type:"range",min:"-1",max:"1",step:"0.01",onChange:d}),r.a.createElement("label",{htmlFor:"y"},"y-position"),r.a.createElement("input",{name:"y",type:"range",min:"-1",max:"1",step:"0.01",onChange:d}),r.a.createElement("label",{htmlFor:"z"},"z-position"),r.a.createElement("input",{name:"z",type:"range",min:"-1",max:"1",step:"0.01",onChange:d}),r.a.createElement("label",{htmlFor:"x"},"x-orientation"),r.a.createElement("input",{name:"x",type:"range",min:"-1",max:"1",step:"0.01",onChange:b}),r.a.createElement("label",{htmlFor:"y"},"y-orientation"),r.a.createElement("input",{name:"y",type:"range",min:"-1",max:"1",step:"0.01",onChange:b}),r.a.createElement("label",{htmlFor:"z"},"z-orientation"),r.a.createElement("input",{name:"z",type:"range",min:"-1",max:"1",step:"0.01",onChange:b}))},k=function(e){return r.a.createElement(x,{title:"Source",id:"<audio>"},r.a.createElement("audio",{src:"viper.mp3",type:"audio/mpeg",onCanPlayThrough:e.setup}),r.a.createElement("button",{onClick:function(){var n=document.querySelector("audio");"suspended"===e.audioContext.state&&e.audioContext.resume(),e.isPlaying?(n.pause(),e.setIsPlaying(!1)):(n.play(),e.setIsPlaying(!0))},disabled:!e.audioContext},r.a.createElement("span",null,"Play/Pause")))},B=function(e){return r.a.createElement(x,{bypassed:e.waveShaperNode&&e.waveShaperNode.bypass,title:"WaveShaper",id:"waveShaperNode",setBypass:e.setBypass})};var O=function(){var e=Object(a.useState)(!1),n=Object(l.a)(e,2),t=n[0],o=n[1],i=Object(a.useState)(null),c=Object(l.a)(i,2),p=c[0],u=c[1],m=Object(a.useState)(null),b=Object(l.a)(m,2),y=b[0],h=b[1];Object(a.useEffect)(function(){if(p){var e=Object.values(p).sort(function(e,n){return e.position>n.position});(e=e.map(function(e){return e.bypass?Object(s.a)({},e,{instance:y.createGain()}):e})).forEach(function(n,t){t<e.length-1&&(n.instance.disconnect(),n.instance.connect(e[t+1].instance))})}},[y,p]);var f=function(e,n){var t=Object(s.a)({},p);t[e].bypass=n,u(t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null,"Webaudio API"),r.a.createElement(g,null,r.a.createElement(k,{setup:function(){var e=new(window.AudioContext||window.webkitAudioContext),n=document.querySelector("audio"),t=e.createMediaElementSource(n),a=e.createWaveShaper(),r=new Float32Array(256);r.forEach(function(e,n){var t=2*n/256-1;r[n]=(Math.PI+15)*t/(Math.PI+15*Math.abs(t))}),a.curve=r,a.oversample="4x";var o=e.createDynamicsCompressor(),i=e.createGain(),s=e.createBiquadFilter();s.type="lowpass";var l=e.createConvolver(),c=new XMLHttpRequest;c.open("GET","hall.wav",!0),c.responseType="arraybuffer",c.onload=function(){e.decodeAudioData(c.response,function(e){l.buffer=e})},c.send();var p=e.createPanner();h(e),u({source:{instance:t,position:0},waveShaperNode:{instance:a,position:1,bypass:!0},dynamicsCompressorNode:{instance:o,position:2,bypass:!0},gainNode:{instance:i,position:3,bypass:!0},biquadFilterNode:{instance:s,position:4,bypass:!0},convolverNode:{instance:l,position:5,bypass:!0},pannerNode:{instance:p,position:6,bypass:!0},destination:{instance:e.destination,position:7}})},isPlaying:t,audioContext:y,setIsPlaying:o}),r.a.createElement(B,{waveShaperNode:p&&p.waveShaperNode,setBypass:f}),r.a.createElement(N,{dynamicsCompressorNode:p&&p.dynamicsCompressorNode,setBypass:f}),r.a.createElement(C,{gainNode:p&&p.gainNode,setBypass:f}),r.a.createElement(v,{biquadFilterNode:p&&p.biquadFilterNode,setBypass:f}),r.a.createElement(F,{convolverNode:p&&p.convolverNode,setBypass:f}),r.a.createElement(w,{pannerNode:p&&p.pannerNode,setBypass:f})))},j=document.getElementById("root");j.hasChildNodes()?i.a.hydrate(r.a.createElement(O,null),j):i.a.render(r.a.createElement(O,null),j)}},[[14,1,2]]]);
//# sourceMappingURL=main.c8dc0d9d.chunk.js.map